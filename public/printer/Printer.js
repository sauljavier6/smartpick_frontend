(function(A){function k(a){var b=0;0!=a&&0==(a&4294901760)&&(b=2147483648|C<<16|a);return b}function D(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",a);c.onload=b;document.getElementsByTagName("head")[0].appendChild(c)}function E(a,b,c,d,e,f){d=c+"."+d+"."+e;if(d in z)if(c=z[d].name,"boolean"==z[d].dataType)if("true"==f)d=!0;else if("false"==f)d=!1;else return"Not Supported";else return"Not Supported";else return"Not Supported";f={};f.prtHandle=
a;f.enabled=d;a={};a.id=b;a.jsonrpc="2.0";a.method=c;a.params=f;return JSON.stringify(a)}function F(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&++b;return b}function p(a,b){return Math.floor(Math.random()*(b-a+1))+a}function g(a){return typeof a==typeof Function}var u,l,m=!1,q=!1,n=!1,v,C=2310,B=87,r=function(a,b,c){return function(){a.apply(b,c)}};A.Printer=function(a,b,c,d){function e(){if("[object Array]"===Object.prototype.toString.call(a))f(a,h);else if("[object Object]"===Object.prototype.toString.call(a))w(JSON.stringify(a));
else if("[object String]"===Object.prototype.toString.call(a)){var b;try{b=JSON.parse(a)}catch(c){var e=k(B);setTimeout(function(){d({status:e,message:"Invalid printer settings, not valid JSON."})},0);return}"[object Array]"===Object.prototype.toString.call(b)?f(b,h):w(a)}else e=k(B),setTimeout(function(){d({status:e,message:"Invalid printerSettings parameter type."})},0)}function f(a,b){if(n){if(g(b)){var c={status:0,value:"Windows_RT",message:"Operation succeeded."};setTimeout(function(){b(c,a)},
0)}}else if(m)l.getPlatformName(function(c){g(b)&&setTimeout(function(){b(c,a)},0)});else if(q){var d,e=p(1E4,99999),f={};f.id=e;f.jsonrpc="2.0";f.method="lp.getPlatformName";window.XMLHttpRequest&&(d=new XMLHttpRequest);d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){var c=JSON.parse(d.responseText);if(e==c.id)if(null!=c.result){if(g(b)){var f={status:0};f.value=c.result.platformName;f.message="Operation succeeded.";setTimeout(function(){b(f,a)},0)}}else null!=c.error&&g(b)&&setTimeout(function(){b({status:c.error.code,
message:c.error.message},a)},0)}};d.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);d.send(JSON.stringify(f))}}function h(a,b){var c=null;if(0==a.status){s.platform=a.value;for(var d=0;d<b.length;d++)if("undefined"!=typeof b[d].LINEPRINTERCONTROL&&b[d].LINEPRINTERCONTROL.Platform===a.value){c=b[d];break}}else s.platform=null;null==c&&(c=b[0]);w(JSON.stringify(c))}function w(a){if(n)s.printer=new HoneywellMobilityPrinterWinNotify(a,b,c,d);else if(m)l.Printer(a,b,c,function(a){0==a.status&&(s.ptrHandle=
a.printHandle);g(d)&&setTimeout(function(){d(a)},0)});else if(q){var e,f=p(1E4,99999),h={};h.configFilePath=a;h.printerEntry=b;a={};a.id=f;a.jsonrpc="2.0";a.method="lp.obtainPrintHandle";a.params=h;window.XMLHttpRequest&&(e=new XMLHttpRequest);e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var a=JSON.parse(e.responseText);f==a.id&&(null!=a.result?(s.ptrHandle=a.result.prtHandle,g(d)&&setTimeout(function(){d({status:0,message:"Printer() complete"})},0)):null!=a.error&&g(d)&&setTimeout(function(){d({status:a.error.code,
message:a.error.message})},0))}};e.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);e.send(JSON.stringify(a))}}var s=this;s.ptrURI=c;s.ptrHandle=null;s.funqueue=[];s.connected=!1;if("undefined"==typeof u)if("undefined"!==typeof window.external&&"undefined"!==typeof window.external.notify)n=!0,"undefined"===typeof HoneywellMobilityPrinterWinNotify?D("Printer-Win-Notify.js",function(){e()}):e();else try{u=document.createElement("embed"),u.setAttribute("id","ptrPlugin"),u.setAttribute("width","0"),
u.setAttribute("height","0"),u.setAttribute("type","application/x-npPrinterPlugin"),document.body.appendChild(u),l=document.getElementById("ptrPlugin"),l.ITCLogString("Constructing Printer object"),m=!0,e()}catch(H){var t,r=p(1E4,99999),y={};y.id=r;y.jsonrpc="2.0";y.method="test";window.XMLHttpRequest&&(t=new XMLHttpRequest);t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status)v=G.create("print"),q=!0,e();else if(g(d)){var a=k(16501);setTimeout(function(){d({status:a,message:"Printer() failed."})},
0)}};t.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);t.send(JSON.stringify(y))}else e()};A.Printer.prototype={version:"1.20.00.0901",printerName:null,ptrURI:null,ptrHandle:null,funqueue:null,connected:!1,platform:null,printer:null,addEventListener:function(a,b,c){n?this.printer&&"undefined"!==typeof this.printer.addEventListener&&this.printer.addEventListener(a,b,c):m?l.addEventListener(this.ptrHandle,a,b):q&&(v.startSession({error:null,event:null}),"printprogress"===a&&v.addPrintProgressListener(this.ptrHandle,
b))},removeEventListener:function(a,b){n?this.printer&&"undefined"!==typeof this.printer.removeEventListener&&this.printer.removeEventListener(a,b):m?l.removeEventListener(this.ptrHandle,a,b):q&&"printprogress"===a&&v.removePrintProgressListener(this.ptrHandle,b)},connect:function(a){var b=this;if(n)if(this.printer&&"undefined"!==typeof this.printer.connect)this.printer.connect(a);else{if(g(a)){var c=k(50);setTimeout(function(){a({status:c,message:"Method is not supported"})},0)}}else if(null==b.ptrHandle)g(a)&&
(c=k(6),setTimeout(function(){a({status:c,message:"Printer object already closed."})},0));else if(m)l.connect(b.ptrHandle,function(c){0==c.status&&(b.connected=!0);g(a)&&setTimeout(function(){a(c)},0)});else if(q){var d=r(b.ajaxConnect,b,[a]);b.funqueue.push(d);if(1==b.funqueue.length)b.funqueue[0]()}},disconnect:function(a){var b=this;if(n)if(this.printer&&"undefined"!==typeof this.printer.disconnect)this.printer.disconnect(a);else{if(g(a)){var c=k(50);setTimeout(function(){a({status:c,message:"Method is not supported"})},
0)}}else if(null==b.ptrHandle||!b.connected)g(a)&&setTimeout(function(){a({status:0,message:"No existing printer connection."})},0);else if(m)l.disconnect(b.ptrHandle,function(c){0==c.status&&(b.connected=!1);g(a)&&setTimeout(function(){a(c)},0)});else if(q){var d=r(b.ajaxDisconnect,b,[a]);b.funqueue.push(d);if(1==b.funqueue.length)b.funqueue[0]()}},close:function(a){var b=this;if(n)if(this.printer&&"undefined"!==typeof this.printer.close)this.printer.close(a);else{if(g(a)){var c=k(50);setTimeout(function(){a({status:c,
message:"Method is not supported"})},0)}}else if(null==b.ptrHandle)g(a)&&setTimeout(function(){a({status:0,message:"Printer object already closed."})},0);else if(m)l.close(b.ptrHandle,function(c){0==c.status&&(b.ptrHandle=null);g(a)&&setTimeout(function(){a(c)},0)});else if(q){var d=b.connected?r(b.ajaxDisconnectAndClose,b,[a]):r(b.ajaxClose,b,[a]);b.funqueue.push(d);if(1==b.funqueue.length)b.funqueue[0]()}},write:function(a,b){if(n)if(this.printer&&"undefined"!==typeof this.printer.write)this.printer.write(a,
b);else{if(g(b)){var c=k(50);setTimeout(function(){b({status:c,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(b))if(m)l.write(this.ptrHandle,a,b);else if(q){var d=r(this.ajaxWrite,this,[a,b]);this.funqueue.push(d);if(1==this.funqueue.length)this.funqueue[0]()}},writeGraphic:function(a,b,c){if(n)if(this.printer&&"undefined"!==typeof this.printer.writeGraphic)this.printer.writeGraphic(a,b,c);else{if(g(c)){var d=k(50);setTimeout(function(){c({status:d,message:"Method is not supported"})},
0)}}else if(this.verifyActiveConnection(c))if(m)l.writeGraphic(this.ptrHandle,a,b,c);else if(q&&(a=r(this.ajaxWriteGraphic,this,[a,b,c]),this.funqueue.push(a),1==this.funqueue.length))this.funqueue[0]()},writeBarcode:function(a,b,c,d){if(n)if(this.printer&&"undefined"!==typeof this.printer.writeBarcode)this.printer.writeBarcode(a,b,c,d);else{if(g(d)){var e=k(50);setTimeout(function(){d({status:e,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(d))if(m)l.writeBarcode(this.ptrHandle,
a,b,c,d);else if(q&&(a=r(this.ajaxWriteBarcode,this,[a,b,c,d]),this.funqueue.push(a),1==this.funqueue.length))this.funqueue[0]()},writeLine:function(a,b){if(n)if(this.printer&&"undefined"!==typeof this.printer.writeLine)this.printer.writeLine(a,b);else{if(g(b)){var c=k(50);setTimeout(function(){b({status:c,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(b))if(m)l.writeLine(this.ptrHandle,a,b);else if(q){var d=r(this.ajaxWriteLine,this,[a,b]);this.funqueue.push(d);if(1==
this.funqueue.length)this.funqueue[0]()}},newLine:function(a,b){if(n)if(this.printer&&"undefined"!==typeof this.printer.newLine)this.printer.newLine(a,b);else{if(g(b)){var c=k(50);setTimeout(function(){b({status:c,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(b))if(m)l.newLine(this.ptrHandle,a,b);else if(q){var d=r(this.ajaxNewLine,this,[a,b]);this.funqueue.push(d);if(1==this.funqueue.length)this.funqueue[0]()}},sendCustomCommand:function(a,b){if(n)if(this.printer&&
"undefined"!==typeof this.printer.sendCustomCommand)this.printer.sendCustomCommand(a,b);else{if(g(b)){var c=k(50);setTimeout(function(){b({status:c,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(b))if(m)l.sendCustomCommand(this.ptrHandle,a,b);else if(q){var d=r(this.ajaxCustomCommand,this,[a,b]);this.funqueue.push(d);if(1==this.funqueue.length)this.funqueue[0]()}},endDoc:function(a){if(n)if(this.printer&&"undefined"!==typeof this.printer.endDoc)this.printer.endDoc(a);
else{if(g(a)){var b=k(50);setTimeout(function(){a({status:b,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(a))if(m)l.endDoc(this.ptrHandle,a);else if(q){var c=r(this.ajaxEndDoc,this,[a]);this.funqueue.push(c);if(1==this.funqueue.length)this.funqueue[0]()}},formFeed:function(a){if(n)if(this.printer&&"undefined"!==typeof this.printer.formFeed)this.printer.formFeed(a);else{if(g(a)){var b=k(50);setTimeout(function(){a({status:b,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(a))if(m)l.formFeed(this.ptrHandle,
a);else if(q){var c=r(this.ajaxFormFeed,this,[a]);this.funqueue.push(c);if(1==this.funqueue.length)this.funqueue[0]()}},writeLabel:function(a,b,c){if(n)if(this.printer&&"undefined"!==typeof this.printer.writeLabel)this.printer.writeLabel(a,b,c);else{if(g(c)){var d=k(50);setTimeout(function(){c({status:d,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(c))if(m)l.writeLabel(this.ptrHandle,a,b,c);else if(q&&(a=r(this.ajaxWriteLabel,this,[a,b,c]),this.funqueue.push(a),1==this.funqueue.length))this.funqueue[0]()},
flush:function(a){if(n)if(this.printer&&"undefined"!==typeof this.printer.flush)this.printer.flush(a);else{if(g(a)){var b=k(50);setTimeout(function(){a({status:b,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(a))if(m)l.flush(this.ptrHandle,a);else if(q){var c=r(this.ajaxFlush,this,[a]);this.funqueue.push(c);if(1==this.funqueue.length)this.funqueue[0]()}},get:function(a,b,c,d){if(n)if(this.printer&&"undefined"!==typeof this.printer.get)this.printer.get(a,b,c,d);else{if(g(d)){var e=
k(50);setTimeout(function(){d({status:e,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(d))if(m)l.get(this.ptrHandle,a,b,c,d);else if(q&&(a=r(this.ajaxGet,this,[a,b,c,d]),this.funqueue.push(a),1==this.funqueue.length))this.funqueue[0]()},set:function(a,b,c,d,e){if(n)if(this.printer&&"undefined"!==typeof this.printer.set)this.printer.set(a,b,c,d,e);else{if(g(e)){var f=k(50);setTimeout(function(){e({status:f,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(e))if(m)l.set(this.ptrHandle,
a,b,c,d,e);else if(q&&(a=r(this.ajaxSet,this,[a,b,c,d,e]),this.funqueue.push(a),1==this.funqueue.length))this.funqueue[0]()},getStatus:function(a){if(n)if(this.printer&&"undefined"!==typeof this.printer.getStatus)this.printer.getStatus(a);else{if(g(a)){var b=k(50);setTimeout(function(){a({status:b,message:"Method is not supported"})},0)}}else if(this.verifyActiveConnection(a))if(m)l.getStatus(this.ptrHandle,a);else if(q){var c=r(this.ajaxGetStatus,this,[a]);this.funqueue.push(c);if(1==this.funqueue.length)this.funqueue[0]()}},
getLicenseInfo:function(a){if(n)if(this.printer&&"undefined"!==typeof this.printer.getLicenseInfo)this.printer.getLicenseInfo(a);else{if(g(a)){var b=k(50);setTimeout(function(){a({status:b,message:"Method is not supported"})},0)}}else if(m)g(a)&&(b=k(50),setTimeout(function(){a({status:b,message:"Method is not supported"})},0));else if(q&&g(a)){var c=p(1E4,99999),d={jsonrpc:"2.0",method:"license.getLicenseInfo"};d.id=c;d.params={};d.params.subsystem="print";if(window.XMLHttpRequest){var e=new XMLHttpRequest;
e.onreadystatechange=function(){if(4==e.readyState&&200==e.status&&null!=e.responseText&&0<e.responseText.length){var b=JSON.parse(e.responseText);c==b.id&&(null!=b.error?g(a)&&setTimeout(function(){a({status:b.error.code,message:b.error.message})},0):g(a)&&(b.result.status=0,b.result.message="Get license info completed successfully.",setTimeout(function(){a(b.result)},0)))}};e.open("POST","http://127.0.0.1:8080/jsonrpc/license",!0);e.send(JSON.stringify(d))}}},ajaxConnect:function(a){var b=this,
c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;e.printerURI=b.ptrURI;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.connect";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=JSON.parse(c.responseText);d==e.id&&(null!=e.error?g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):(b.connected=!0,g(a)&&setTimeout(function(){a({status:0,message:"Connect completed successfully."})},
0)));0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ajaxDisconnect:function(a){var b=this,c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.disconnect";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=
JSON.parse(c.responseText);d==e.id&&(null!=e.error?g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):(b.connected=!1,g(a)&&setTimeout(function(){a({status:0,message:"Disconnected from printer."})},0)));0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ajaxDisconnectAndClose:function(a){var b=this,c,d=p(1E4,99999),e={};e.prtHandle=
b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.disconnect";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=JSON.parse(c.responseText);if(d==e.id)if(null!=e.error)g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0);else{b.connected=!1;var f,s=p(1E4,99999),k={};k.prtHandle=b.ptrHandle;var t={};t.id=s;t.jsonrpc="2.0";t.method="lp.releasePrintHandle";
t.params=k;window.XMLHttpRequest&&(f=new XMLHttpRequest);f.onreadystatechange=function(){if(4==f.readyState&&200==f.status&&null!=f.responseText&&0<f.responseText.length){var c=JSON.parse(f.responseText);s==c.id&&(null!=c.error?g(a)&&setTimeout(function(){a({status:c.error.code,message:c.error.message})},0):(setTimeout(function(){v.removePrintHandle(b.ptrHandle);b.ptrHandle=null},500),g(a)&&setTimeout(function(){a({status:0,message:"Printer successfully closed."})},0)));0<b.funqueue.length&&b.funqueue.shift();
0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};f.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);f.send(JSON.stringify(t))}}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ajaxClose:function(a){var b=this,c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.releasePrintHandle";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&
null!=c.responseText&&0<c.responseText.length){var e=JSON.parse(c.responseText);d==e.id&&(null!=e.error?g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):(setTimeout(function(){v.removePrintHandle(b.ptrHandle);b.ptrHandle=null},500),g(a)&&setTimeout(function(){a({status:0,message:"Printer successfully closed."})},0)));0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",
!0);c.send(JSON.stringify(f))},ajaxWrite:function(a,b){var c=this,d,e=p(1E4,99999),f={};f.prtHandle=c.ptrHandle;f.data=a;var h={};h.id=e;h.jsonrpc="2.0";h.method="lp.writeBytes";h.params=f;window.XMLHttpRequest&&(d=new XMLHttpRequest);d.onreadystatechange=function(){if(4==d.readyState&&200==d.status&&null!=d.responseText&&0<d.responseText.length){var a=JSON.parse(d.responseText);e==a.id&&(null!=a.error?g(b)&&setTimeout(function(){b({status:a.error.code,message:a.error.message})},0):g(b)&&setTimeout(function(){b({status:0,
message:"Write completed successfully."})},0));0<c.funqueue.length&&c.funqueue.shift();0<c.funqueue.length&&setTimeout(function(){c.funqueue[0]()},0)}};d.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);d.send(JSON.stringify(h))},ajaxWriteGraphic:function(a,b,c){var d=this,e,f=p(1E4,99999),h={};h.prtHandle=d.ptrHandle;h.imageDataBase64=a;h.rotation=b.Rotation;h.xOffset=b.XOffset;h.width=b.Width;h.height=b.Height;a={};a.id=f;a.jsonrpc="2.0";a.method="lp.writeGraphicBase64";a.params=h;window.XMLHttpRequest&&
(e=new XMLHttpRequest);e.onreadystatechange=function(){if(4==e.readyState&&200==e.status&&null!=e.responseText&&0<e.responseText.length){var a=JSON.parse(e.responseText);f==a.id&&(null!=a.error?g(c)&&setTimeout(function(){c({status:a.error.code,message:a.error.message})},0):g(c)&&setTimeout(function(){c({status:0,message:"Write graphic completed successfully."})},0));0<d.funqueue.length&&d.funqueue.shift();0<d.funqueue.length&&setTimeout(function(){d.funqueue[0]()},0)}};e.open("POST","http://127.0.0.1:8080/jsonrpc/print",
!0);e.send(JSON.stringify(a))},ajaxWriteBarcode:function(a,b,c,d){var e=this,f,h=p(1E4,99999),w={};w.prtHandle=e.ptrHandle;w.symbology=a;w.data=b;w.size=c.Size;w.xOffset=c.XOffset;a={};a.id=h;a.jsonrpc="2.0";a.method="lp.writeBarcode";a.params=w;window.XMLHttpRequest&&(f=new XMLHttpRequest);f.onreadystatechange=function(){if(4==f.readyState&&200==f.status&&null!=f.responseText&&0<f.responseText.length){var a=JSON.parse(f.responseText);h==a.id&&(null!=a.error?g(d)&&setTimeout(function(){d({status:a.error.code,
message:a.error.message})},0):g(d)&&setTimeout(function(){d({status:0,message:"Write barcode completed successfully."})},0));0<e.funqueue.length&&e.funqueue.shift();0<e.funqueue.length&&setTimeout(function(){e.funqueue[0]()},0)}};f.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);f.send(JSON.stringify(a))},ajaxWriteLine:function(a,b){var c=this,d,e=p(1E4,99999),f={};f.prtHandle=c.ptrHandle;f.data=a;var h={};h.id=e;h.jsonrpc="2.0";h.method="lp.writeBytes";h.params=f;window.XMLHttpRequest&&(d=
new XMLHttpRequest);d.onreadystatechange=function(){if(4==d.readyState&&200==d.status&&null!=d.responseText&&0<d.responseText.length){var a=JSON.parse(d.responseText);if(e==a.id)if(null!=a.error)g(b)&&setTimeout(function(){b({status:a.error.code,message:a.error.message})},0);else{var f,h=p(1E4,99999),t={};t.prtHandle=c.ptrHandle;t.numLines=1;var k={};k.id=h;k.jsonrpc="2.0";k.method="lp.newLine";k.params=t;window.XMLHttpRequest&&(f=new XMLHttpRequest);f.onreadystatechange=function(){if(4==f.readyState&&
200==f.status&&null!=f.responseText&&0<f.responseText.length){var a=JSON.parse(f.responseText);h==a.id&&(null!=a.error?g(b)&&setTimeout(function(){b({status:a.error.code,message:a.error.message})},0):g(b)&&setTimeout(function(){b({status:0,message:"writeLine success."})},0));0<c.funqueue.length&&c.funqueue.shift();0<c.funqueue.length&&setTimeout(function(){c.funqueue[0]()},0)}};f.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);f.send(JSON.stringify(k))}}};d.open("POST","http://127.0.0.1:8080/jsonrpc/print",
!0);d.send(JSON.stringify(h))},ajaxNewLine:function(a,b){var c=this,d,e=p(1E4,99999),f={};f.prtHandle=c.ptrHandle;f.numLines=a;var h={};h.id=e;h.jsonrpc="2.0";h.method="lp.newLine";h.params=f;window.XMLHttpRequest&&(d=new XMLHttpRequest);d.onreadystatechange=function(){if(4==d.readyState&&200==d.status&&null!=d.responseText&&0<d.responseText.length){var a=JSON.parse(d.responseText);e==a.id&&(null!=a.error?g(b)&&setTimeout(function(){b({status:a.error.code,message:a.error.message})},0):g(b)&&setTimeout(function(){b({status:0,
message:"newLine success."})},0));0<c.funqueue.length&&c.funqueue.shift();0<c.funqueue.length&&setTimeout(function(){c.funqueue[0]()},0)}};d.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);d.send(JSON.stringify(h))},ajaxCustomCommand:function(a,b){var c=this,d,e=p(1E4,99999),f={};f.prtHandle=c.ptrHandle;f.commandID=a;var h={};h.id=e;h.jsonrpc="2.0";h.method="lp.sendCustomCommand";h.params=f;window.XMLHttpRequest&&(d=new XMLHttpRequest);d.onreadystatechange=function(){if(4==d.readyState&&200==
d.status&&null!=d.responseText&&0<d.responseText.length){var a=JSON.parse(d.responseText);e==a.id&&(null!=a.error?g(b)&&setTimeout(function(){b({status:a.error.code,message:a.error.message})},0):g(b)&&setTimeout(function(){b({status:0,message:"sendCustomCommand completed successfully."})},0));0<c.funqueue.length&&c.funqueue.shift();0<c.funqueue.length&&setTimeout(function(){c.funqueue[0]()},0)}};d.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);d.send(JSON.stringify(h))},ajaxEndDoc:function(a){var b=
this,c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.endDoc";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=JSON.parse(c.responseText);d==e.id&&(null!=e.error?g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):g(a)&&setTimeout(function(){a({status:0,message:"endDoc completed successfully."})},0));
0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ajaxFormFeed:function(a){var b=this,c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.formFeed";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=
JSON.parse(c.responseText);d==e.id&&(null!=e.error?g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):g(a)&&setTimeout(function(){a({status:0,message:"form feed completed successfully."})},0));0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ajaxWriteLabel:function(a,b,c){var d=this,e,f=p(1E4,99999),h={};h.prtHandle=d.ptrHandle;h.format=
a;h.dictionary=b;a={};a.id=f;a.jsonrpc="2.0";a.method="lp.writeLabel";a.params=h;window.XMLHttpRequest&&(e=new XMLHttpRequest);e.onreadystatechange=function(){if(4==e.readyState&&200==e.status&&null!=e.responseText&&0<e.responseText.length){var a=JSON.parse(e.responseText);f==a.id&&(null!=a.error?g(c)&&setTimeout(function(){c({status:a.error.code,message:a.error.message})},0):g(c)&&setTimeout(function(){c({status:0,message:"Write label completed successfully."})},0));0<d.funqueue.length&&d.funqueue.shift();
0<d.funqueue.length&&setTimeout(function(){d.funqueue[0]()},0)}};e.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);e.send(JSON.stringify(a))},ajaxFlush:function(a){var b=this,c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.flush";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=JSON.parse(c.responseText);d==e.id&&(null!=e.error?
g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):g(a)&&setTimeout(function(){a({status:0,message:"flush completed successfully."})},0));0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ajaxGet:function(a,b,c,d){var e=this,f=k(50),h={};h.status=f;h.message="Not Supported.";h.family=a;h.key=b;h.option=c;g(d)&&setTimeout(function(){d(h)},
0);0<e.funqueue.length&&e.funqueue.shift();0<e.funqueue.length&&setTimeout(function(){e.funqueue[0]()},0)},ajaxSet:function(a,b,c,d,e){var f=this,h=p(1E4,99999);d=E(f.ptrHandle,h,a,b,c,d);if("Not Supported"==d){d=k(50);var l={};l.status=d;l.message="Not Supported.";l.family=a;l.key=b;l.option=c;g(e)&&setTimeout(function(){e(l)},0);0<f.funqueue.length&&f.funqueue.shift();0<f.funqueue.length&&setTimeout(function(){f.funqueue[0]()},0)}else{if(window.XMLHttpRequest)var s=new XMLHttpRequest;s.onreadystatechange=
function(){if(4==s.readyState&&200==s.status&&null!=s.responseText&&0<s.responseText.length){var d=JSON.parse(s.responseText);if(h==d.id){if(0<F(d.error)){var k={};k.status=d.error.code;k.message=d.error.message}else k={status:0,message:"Operation completed successfully."};k.family=a;k.key=b;k.option=c;g(e)&&setTimeout(function(){e(k)},0)}0<f.funqueue.length&&f.funqueue.shift();0<f.funqueue.length&&setTimeout(function(){f.funqueue[0]()},0)}};s.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);
s.send(d)}},verifyActiveConnection:function(a){if(null==this.ptrHandle||!this.connected){if(g(a)){var b=k(1229);setTimeout(function(){a({status:b,message:"No existing printer connection"})},0)}return!1}return!0},ajaxGetStatus:function(a){var b=this,c,d=p(1E4,99999),e={};e.prtHandle=b.ptrHandle;var f={};f.id=d;f.jsonrpc="2.0";f.method="lp.getStatus";f.params=e;window.XMLHttpRequest&&(c=new XMLHttpRequest);c.onreadystatechange=function(){if(4==c.readyState&&200==c.status&&null!=c.responseText&&0<c.responseText.length){var e=
JSON.parse(c.responseText);d==e.id&&(null!=e.error?g(a)&&setTimeout(function(){a({status:e.error.code,message:e.error.message})},0):g(a)&&setTimeout(function(){a({status:0,message:"Get status completed successfully.",msgNumbers:e.result.msgNumbers})},0));0<b.funqueue.length&&b.funqueue.shift();0<b.funqueue.length&&setTimeout(function(){b.funqueue[0]()},0)}};c.open("POST","http://127.0.0.1:8080/jsonrpc/print",!0);c.send(JSON.stringify(f))},ITCLogString:function(a){m&&l.ITCLogString(a)}};var z={"Font.Style.Bold":{name:"lp.setBold",
dataType:"boolean"},"Font.Style.Compress":{name:"lp.setCompress",dataType:"boolean"},"Font.Style.DoubleHigh":{name:"lp.setDoubleHigh",dataType:"boolean"},"Font.Style.DoubleWide":{name:"lp.setDoubleWide",dataType:"boolean"},"Font.Style.Italic":{name:"lp.setItalic",dataType:"boolean"},"Font.Style.Strikeout":{name:"lp.setStrikeout",dataType:"boolean"},"Font.Style.Underline":{name:"lp.setUnderline",dataType:"boolean"}},G={create:function(a){function b(a,b){x.logCallback&&("object"===typeof b?x.logCallback(a,
JSON.stringify(b,null," ")):x.logCallback(a,b))}var c="http://127.0.0.1:8080/jsonrpc/"+a,d=c+"/events",e=!1,f=null,g=1,k=function(){},l=function(){},m,p,q,n=[],r=function(){p||("undefined"!==typeof document.webkitHidden?(p="webkitHidden",q="webkitvisibilitychange"):"undefined"!==typeof document.hidden&&(p="hidden",q="visibilitychange"));p&&"undefined"!==typeof document.addEventListener&&!m&&(m=function(){document[p]||(e=!0,v(),b("handleDocVisibilityChangeEvent","requestEvents"))},document.addEventListener(q,
m,!1))},u=function(a){a!=e&&(e=a)&&v();a?r():m&&(document.removeEventListener(q,m),m=null)},v=function(){var a=new XMLHttpRequest;a.open("POST",d,!0);a.setRequestHeader("Content-Type","application/json");a.onreadystatechange=function(){var b;if(4==a.readyState)if(200==a.status)try{if(b=JSON.parse(a.responseText),b.result){var c=b.result.session;c&&(f=c);if(b.result.events){var d,g;for(d=0;d<b.result.events.length;d++)if(g=b.result.events[d],"lp.printProgressEvent"==g.method&&n[g.params.prtHandle]instanceof
Array){var h=n[g.params.prtHandle];d=0;for(var m=h.length;d<m;d++)switch(g.params.progress){case "cancel":h[d]("cancelled");break;case "complete":h[d]("completed");break;case "endDoc":h[d]("docEnded");break;case "finished":h[d]("finished");break;case "startDoc":h[d]("docStarted");break;default:h[d](g.params.progress)}}}else b.result.method&&k(b.result.method,b.result.params);e&&v()}else b.error&&l(b.error.code,b.error.message)}catch(p){l(-1,p.message),e=!1}else l(a.status,a.statusText),e=!1};var b=
{id:g++,jsonrpc:"2.0",method:"events.getNext",params:{timeout:x.eventTimeout}};f&&(b.params.session=f);try{a.send(JSON.stringify(b))}catch(c){l(a.status,a.statusText),e=!1}},x={eventTimeout:60,logCallback:null,startSession:function(a){k=a.event?a.event:function(){};l=a.error?a.error:function(){};u(!0)},stopSession:function(){u(!1)},addPrintProgressListener:function(a,b){"undefined"==typeof n[a]&&(n[a]=[]);n[a].push(b)},removePrintProgressListener:function(a,b){if(n[a]instanceof Array)for(var c=n[a],
d=0,e=c.length;d<e;d++)if(c[d]===b){c.splice(d,1);break}},removePrintHandle:function(a){"undefined"!=typeof n[a]&&delete n[a]},doRpc:function(a,d,e){var f=new XMLHttpRequest;f.open("POST",c,!0);f.setRequestHeader("Content-Type","application/json");f.onreadystatechange=function(){if(4==f.readyState)if(200==f.status){var a=JSON.parse(f.responseText);b("Response",a);e(a.error,a.result)}else a={code:f.status,message:f.statusText},b("Response error",a),e(a,null)};a={id:g++,jsonrpc:"2.0",method:a,params:d};
try{b("Post",a),f.send(JSON.stringify(a))}catch(k){e({code:f.status,message:k.message},null)}}};return x}}})(this);